"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __accessCheck$3=(d,l,h)=>{if(!l.has(d))throw TypeError("Cannot "+h)},__privateGet$3=(d,l,h)=>(__accessCheck$3(d,l,"read from private field"),h?h.call(d):l.get(d)),__privateSet$3=(d,l,h,m)=>(__accessCheck$3(d,l,"write to private field"),m?m.call(d,h):l.set(d,h),h),__container$1,__header,__content,__footer,__contentList,__onSelected,__initialize,__clickHandler;class Sidebar{constructor({container:l,header:h,content:m,footerLabel:p,onSelected:w}){__container$1.set(this,void 0),__header.set(this,void 0),__content.set(this,void 0),__footer.set(this,void 0),__contentList.set(this,{}),__onSelected.set(this,void 0),__initialize.set(this,(i,e,t,s)=>{__privateGet$3(this,__container$1).classList.add("tw-sidebar"),__privateGet$3(this,__header).classList.add("tw-sidebar-btn","tw-sidebar-btn-l0"),__privateGet$3(this,__content).classList.add("tw-sidebar-content"),__privateGet$3(this,__footer).classList.add("tw-sidebar-btn-footnote"),__privateGet$3(this,__container$1).appendChild(__privateGet$3(this,__header)),__privateGet$3(this,__container$1).appendChild(__privateGet$3(this,__content)),__privateGet$3(this,__container$1).appendChild(__privateGet$3(this,__footer));const r=document.createElement("span"),a=document.createElement("p");r.classList.add(`tw-i-${e.icon}`,"tw-sidebar-btn-icon"),a.classList.add("tw-sidebar-btn-label"),a.innerText=e.label,__privateGet$3(this,__header).appendChild(r),__privateGet$3(this,__header).appendChild(a),t.forEach((c,o)=>{const u=`${o}-${c.level}-${c.label}`,f=document.createElement("button");f.id=u,f.name=c.name||"",f.classList.add("tw-sidebar-btn",`tw-sidebar-btn-l${c.level}`),__privateGet$3(this,__contentList)[u]=f;let v;c.icon&&(v=document.createElement("span"),v.classList.add(`tw-i-${c.icon}`,"tw-sidebar-btn-icon"),f.appendChild(v));const y=document.createElement("p");y.classList.add("tw-sidebar-btn-label"),y.innerText=c.label,f.appendChild(y),f.addEventListener("click",__privateGet$3(this,__clickHandler)),__privateGet$3(this,__content).appendChild(f)});const n=document.createElement("p");n.classList.add("tw-sidebar-btn-label"),n.innerText=s,__privateGet$3(this,__footer).appendChild(n)}),__clickHandler.set(this,i=>{const e=i.currentTarget;Object.values(__privateGet$3(this,__contentList)).map(t=>t.classList.remove("selected")),e.classList.add("selected"),__privateGet$3(this,__onSelected)&&__privateGet$3(this,__onSelected).call(this,e)}),this.destroy=()=>{__privateGet$3(this,__container$1).removeChild(__privateGet$3(this,__header)),__privateGet$3(this,__container$1).removeChild(__privateGet$3(this,__content)),__privateGet$3(this,__container$1).removeChild(__privateGet$3(this,__footer)),Object.values(__privateGet$3(this,__contentList)).map(i=>i.removeEventListener("click",__privateGet$3(this,__clickHandler))),__privateSet$3(this,__contentList,{})},__privateSet$3(this,__onSelected,w),__privateSet$3(this,__container$1,l),__privateGet$3(this,__container$1).dataset.testid="sidebar",__privateSet$3(this,__header,document.createElement("div")),__privateGet$3(this,__header).dataset.testid="header",__privateSet$3(this,__content,document.createElement("div")),__privateGet$3(this,__content).dataset.testid="content",__privateSet$3(this,__footer,document.createElement("div")),__privateGet$3(this,__footer).dataset.testid="footer",__privateGet$3(this,__initialize).call(this,l,h,m,p)}}__container$1=new WeakMap,__header=new WeakMap,__content=new WeakMap,__footer=new WeakMap,__contentList=new WeakMap,__onSelected=new WeakMap,__initialize=new WeakMap,__clickHandler=new WeakMap;var __accessCheck$2=(d,l,h)=>{if(!l.has(d))throw TypeError("Cannot "+h)},__privateGet$2=(d,l,h)=>(__accessCheck$2(d,l,"read from private field"),h?h.call(d):l.get(d)),__privateSet$2=(d,l,h,m)=>(__accessCheck$2(d,l,"write to private field"),m?m.call(d,h):l.set(d,h),h),__isOpen,__container,__modalContent,__backdrop,_initialize,_open,_close,_removeAnimationEvent,_startAnimationOpen,_endAnimationOpen,_startAnimationClose,_endAnimationClose,_handleClose;class Modal{constructor(l){__isOpen.set(this,!1),__container.set(this,void 0),__modalContent.set(this,void 0),__backdrop.set(this,void 0),_initialize.set(this,()=>{__privateGet$2(this,__container).appendChild(__privateGet$2(this,__modalContent)),document.body.appendChild(__privateGet$2(this,__backdrop)),document.body.appendChild(__privateGet$2(this,__container)),__privateGet$2(this,__modalContent).style.display="none",__privateGet$2(this,__container).style.display="none",__privateGet$2(this,__backdrop).style.display="none",__privateGet$2(this,__container).classList.add("tw-modal"),__privateGet$2(this,__container).classList.add("tw-modal-close"),__privateGet$2(this,__backdrop).classList.add("tw-modal-backdrop"),__privateGet$2(this,__backdrop).classList.add("tw-modal-backdrop-close"),__privateGet$2(this,__backdrop).addEventListener("click",__privateGet$2(this,_handleClose)),__privateGet$2(this,__modalContent).classList.add("tw-modal-content"),setTimeout(()=>{__privateGet$2(this,__container).style.removeProperty("display"),__privateGet$2(this,__backdrop).style.removeProperty("display"),__privateGet$2(this,__modalContent).style.removeProperty("display")},300)}),_open.set(this,()=>{__privateGet$2(this,__backdrop).addEventListener("transitionstart",__privateGet$2(this,_startAnimationOpen)),__privateGet$2(this,__container).addEventListener("transitioncancel",__privateGet$2(this,_endAnimationOpen)),__privateGet$2(this,__container).addEventListener("transitionend",__privateGet$2(this,_endAnimationOpen)),__privateGet$2(this,__backdrop).classList.remove("tw-modal-backdrop-close"),__privateGet$2(this,__backdrop).classList.add("tw-modal-backdrop-open"),__privateGet$2(this,__container).classList.remove("tw-modal-close"),__privateGet$2(this,__container).classList.add("tw-modal-open")}),_close.set(this,()=>{__privateGet$2(this,__container).addEventListener("transitionstart",__privateGet$2(this,_startAnimationClose)),__privateGet$2(this,__backdrop).addEventListener("transitioncancel",__privateGet$2(this,_endAnimationClose)),__privateGet$2(this,__backdrop).addEventListener("transitionend",__privateGet$2(this,_endAnimationClose)),__privateGet$2(this,__backdrop).classList.remove("tw-modal-backdrop-open"),__privateGet$2(this,__backdrop).classList.add("tw-modal-backdrop-close"),__privateGet$2(this,__container).classList.remove("tw-modal-open"),__privateGet$2(this,__container).classList.add("tw-modal-close")}),_removeAnimationEvent.set(this,()=>{__privateGet$2(this,__backdrop).removeEventListener("transitionstart",__privateGet$2(this,_startAnimationOpen)),__privateGet$2(this,__container).removeEventListener("transitioncancel",__privateGet$2(this,_endAnimationOpen)),__privateGet$2(this,__container).removeEventListener("transitionend",__privateGet$2(this,_endAnimationOpen)),__privateGet$2(this,__container).removeEventListener("transitionstart",__privateGet$2(this,_startAnimationClose)),__privateGet$2(this,__backdrop).removeEventListener("transitioncancel",__privateGet$2(this,_endAnimationClose)),__privateGet$2(this,__backdrop).removeEventListener("transitionend",__privateGet$2(this,_endAnimationClose))}),_startAnimationOpen.set(this,()=>{__privateGet$2(this,__backdrop).removeEventListener("transitionstart",__privateGet$2(this,_startAnimationOpen)),this.onStartOpen&&this.onStartOpen()}),_endAnimationOpen.set(this,()=>{__privateGet$2(this,_removeAnimationEvent).call(this),this.onEndOpen&&this.onEndOpen()}),_startAnimationClose.set(this,()=>{__privateGet$2(this,__container).removeEventListener("transitionstart",__privateGet$2(this,_startAnimationClose)),this.onStartClose&&this.onStartClose()}),_endAnimationClose.set(this,()=>{__privateGet$2(this,_removeAnimationEvent).call(this),this.onEndClose&&this.onEndClose()}),_handleClose.set(this,()=>{this.onClose&&this.onClose()}),this.destroy=()=>{__privateGet$2(this,__container).removeChild(__privateGet$2(this,__modalContent));const h=__privateGet$2(this,__container).parentElement;h.removeChild(__privateGet$2(this,__backdrop)),h.removeChild(__privateGet$2(this,__container)),__privateGet$2(this,__backdrop).removeEventListener("click",__privateGet$2(this,_handleClose))},__privateSet$2(this,__modalContent,l),__privateSet$2(this,__container,document.createElement("div")),__privateSet$2(this,__backdrop,document.createElement("div")),__privateGet$2(this,__backdrop).dataset.testid="backdrop",__privateGet$2(this,_initialize).call(this)}get isOpen(){return __privateGet$2(this,__isOpen)}set isOpen(l){if(__privateSet$2(this,__isOpen,l),l){__privateGet$2(this,_open).call(this);return}__privateGet$2(this,_close).call(this)}}__isOpen=new WeakMap,__container=new WeakMap,__modalContent=new WeakMap,__backdrop=new WeakMap,_initialize=new WeakMap,_open=new WeakMap,_close=new WeakMap,_removeAnimationEvent=new WeakMap,_startAnimationOpen=new WeakMap,_endAnimationOpen=new WeakMap,_startAnimationClose=new WeakMap,_endAnimationClose=new WeakMap,_handleClose=new WeakMap;var __accessCheck$1=(d,l,h)=>{if(!l.has(d))throw TypeError("Cannot "+h)},__privateGet$1=(d,l,h)=>(__accessCheck$1(d,l,"read from private field"),h?h.call(d):l.get(d)),__privateSet$1=(d,l,h,m)=>(__accessCheck$1(d,l,"write to private field"),m?m.call(d,h):l.set(d,h),h),_container,_containerInput,_input,_label,_helperText,_startIcon,_containerEndIcon,_endIcon,_clearIcon,_observer,_validTypes,_validAttr,_changeDataSet,_updateOptions,_handleChange$1,_handleFocus,_handleBlur,_handleClear,_statIconHandleClick,_endIconHandleClick;class Input{constructor(l){_container.set(this,void 0),_containerInput.set(this,void 0),_input.set(this,void 0),_label.set(this,void 0),_helperText.set(this,void 0),_startIcon.set(this,void 0),_containerEndIcon.set(this,void 0),_endIcon.set(this,void 0),_clearIcon.set(this,void 0),_observer.set(this,void 0),_validTypes.set(this,["number","password","text"]),_validAttr.set(this,["max","maxlength","min","step","name"]),_changeDataSet.set(this,m=>{m.forEach(p=>{const w=p.attributeName.replace("data-",""),i=__privateGet$1(this,_container).dataset;__privateGet$1(this,_updateOptions).call(this,w,i)})}),_updateOptions.set(this,(m,p)=>{var w,i,e;switch(m){case"label":__privateGet$1(this,_label).innerText=(w=p.label)!=null?w:"";break;case"helpertext":__privateGet$1(this,_helperText).innerText=(i=p.helpertext)!=null?i:"";break;case"disabled":String(p.disabled)==="true"?__privateGet$1(this,_input).setAttribute("disabled","true"):__privateGet$1(this,_input).removeAttribute("disabled");break;case"error":String(p.error)==="true"&&(!p.disabled||String(p.disabled)==="false")?(__privateGet$1(this,_input).classList.add("tw-input-error"),__privateGet$1(this,_label).classList.add("tw-input-element-error"),__privateGet$1(this,_helperText).classList.add("tw-input-element-error"),__privateGet$1(this,_startIcon).classList.add("tw-input-element-error"),__privateGet$1(this,_containerEndIcon).classList.add("tw-input-element-error")):(__privateGet$1(this,_input).classList.remove("tw-input-error"),__privateGet$1(this,_label).classList.remove("tw-input-element-error"),__privateGet$1(this,_helperText).classList.remove("tw-input-element-error"),__privateGet$1(this,_startIcon).classList.remove("tw-input-element-error"),__privateGet$1(this,_containerEndIcon).classList.remove("tw-input-element-error"));break;case"value":typeof p.value=="string"&&(__privateGet$1(this,_input).value=(e=p.value)!=null?e:"");break;case"starticon":__privateGet$1(this,_startIcon).classList.add(`tw-i-${p.starticon}`),__privateGet$1(this,_startIcon).addEventListener("click",__privateGet$1(this,_statIconHandleClick)),__privateGet$1(this,_input).classList.add("tw-input-startIcon-padding"),__privateGet$1(this,_startIcon).parentElement||__privateGet$1(this,_containerInput).appendChild(__privateGet$1(this,_startIcon));break;case"endicon":__privateGet$1(this,_endIcon).classList.remove(...Array.from(__privateGet$1(this,_endIcon).classList)),__privateGet$1(this,_endIcon).classList.add(`tw-i-${p.endicon}`),__privateGet$1(this,_input).classList.add("tw-input-endIcon-single-padding"),__privateGet$1(this,_input).classList.add("tw-input-endIcon-double-padding"),__privateGet$1(this,_endIcon).addEventListener("click",__privateGet$1(this,_endIconHandleClick)),__privateGet$1(this,_endIcon).parentElement||__privateGet$1(this,_containerEndIcon).appendChild(__privateGet$1(this,_endIcon)),__privateGet$1(this,_containerEndIcon).parentElement||__privateGet$1(this,_containerInput).appendChild(__privateGet$1(this,_containerEndIcon));break;case"clearicon":p.clearicon==="true"?(__privateGet$1(this,_input).classList.add("tw-input-endIcon-single-padding"),__privateGet$1(this,_input).classList.add("tw-input-endIcon-double-padding"),__privateGet$1(this,_clearIcon).addEventListener("click",__privateGet$1(this,_handleClear)),__privateGet$1(this,_clearIcon).parentElement||__privateGet$1(this,_containerEndIcon).insertBefore(__privateGet$1(this,_clearIcon),__privateGet$1(this,_containerEndIcon).firstChild),__privateGet$1(this,_containerEndIcon).parentElement||__privateGet$1(this,_containerInput).appendChild(__privateGet$1(this,_containerEndIcon))):(__privateGet$1(this,_containerEndIcon).removeChild(__privateGet$1(this,_clearIcon)),__privateGet$1(this,_clearIcon).removeEventListener("click",__privateGet$1(this,_handleClear)));break;case"type":__privateGet$1(this,_validTypes).includes(String(p.type))&&__privateGet$1(this,_input).setAttribute("type",p.type);break;default:__privateGet$1(this,_validAttr).includes(m)&&__privateGet$1(this,_input).setAttribute(m,p[m])}p.starticon||(__privateGet$1(this,_startIcon).parentElement&&__privateGet$1(this,_containerInput).removeChild(__privateGet$1(this,_startIcon)),__privateGet$1(this,_input).classList.remove("tw-input-startIcon-padding"),__privateGet$1(this,_startIcon).removeEventListener("click",__privateGet$1(this,_statIconHandleClick))),p.clearicon||(__privateGet$1(this,_input).classList.remove("tw-input-endIcon-double-padding"),__privateGet$1(this,_clearIcon).parentElement&&__privateGet$1(this,_containerEndIcon).removeChild(__privateGet$1(this,_clearIcon))),p.endicon||(__privateGet$1(this,_input).classList.remove("tw-input-endIcon-double-padding"),__privateGet$1(this,_endIcon).parentElement&&__privateGet$1(this,_containerEndIcon).removeChild(__privateGet$1(this,_endIcon)),__privateGet$1(this,_endIcon).removeEventListener("click",__privateGet$1(this,_endIconHandleClick))),!p.clearicon&&!p.endicon&&(__privateGet$1(this,_containerEndIcon).parentElement&&__privateGet$1(this,_containerInput).removeChild(__privateGet$1(this,_containerEndIcon)),__privateGet$1(this,_endIcon).parentElement&&__privateGet$1(this,_containerEndIcon).removeChild(__privateGet$1(this,_endIcon)),__privateGet$1(this,_clearIcon).parentElement&&__privateGet$1(this,_containerEndIcon).removeChild(__privateGet$1(this,_clearIcon)),__privateGet$1(this,_input).classList.remove("tw-input-endIcon-single-padding"),__privateGet$1(this,_input).classList.remove("tw-input-endIcon-double-padding"),__privateGet$1(this,_clearIcon).removeEventListener("click",__privateGet$1(this,_handleClear)),__privateGet$1(this,_endIcon).removeEventListener("click",__privateGet$1(this,_endIconHandleClick)))}),_handleChange$1.set(this,m=>{this.onChange&&this.onChange(m)}),_handleFocus.set(this,m=>{__privateGet$1(this,_startIcon).classList.add("tw-input-focus"),__privateGet$1(this,_containerEndIcon).classList.add("tw-input-focus"),this.onFocus&&this.onFocus(m)}),_handleBlur.set(this,m=>{__privateGet$1(this,_startIcon).classList.remove("tw-input-focus"),__privateGet$1(this,_containerEndIcon).classList.remove("tw-input-focus"),this.onBlur&&this.onBlur(m)}),_handleClear.set(this,m=>{__privateGet$1(this,_input).value="",this.onChange&&this.onChange(m)}),_statIconHandleClick.set(this,m=>{this.onStartIconClick&&this.onStartIconClick(m)}),_endIconHandleClick.set(this,m=>{this.onEndIconClick&&this.onEndIconClick(m)}),this.focus=()=>{__privateGet$1(this,_input).focus()},this.blur=()=>{__privateGet$1(this,_input).blur()},this.destroy=()=>{for(__privateGet$1(this,_observer).disconnect(),__privateGet$1(this,_input).removeEventListener("input",__privateGet$1(this,_handleChange$1)),__privateGet$1(this,_input).removeEventListener("focus",__privateGet$1(this,_handleFocus)),__privateGet$1(this,_input).removeEventListener("blur",__privateGet$1(this,_handleBlur)),__privateGet$1(this,_clearIcon).removeEventListener("click",__privateGet$1(this,_handleClear)),__privateGet$1(this,_startIcon).removeEventListener("click",__privateGet$1(this,_statIconHandleClick)),__privateGet$1(this,_endIcon).removeEventListener("click",__privateGet$1(this,_endIconHandleClick));__privateGet$1(this,_container).children.length>0;)__privateGet$1(this,_container).removeChild(__privateGet$1(this,_container).children[__privateGet$1(this,_container).children.length-1])},__privateSet$1(this,_container,l),__privateGet$1(this,_container).classList.add("tw-input-container"),__privateSet$1(this,_label,document.createElement("label")),__privateGet$1(this,_label).classList.add("tw-input-label"),__privateSet$1(this,_containerInput,document.createElement("div")),__privateGet$1(this,_containerInput).classList.add("tw-input-containerInput"),__privateSet$1(this,_input,document.createElement("input")),__privateGet$1(this,_input).classList.add("tw-input"),__privateSet$1(this,_helperText,document.createElement("p")),__privateGet$1(this,_helperText).classList.add("tw-input-helperText"),__privateSet$1(this,_startIcon,document.createElement("div")),__privateGet$1(this,_startIcon).classList.add("tw-input-startIcon"),__privateSet$1(this,_containerEndIcon,document.createElement("div")),__privateGet$1(this,_containerEndIcon).classList.add("tw-input-endIcon"),__privateSet$1(this,_endIcon,document.createElement("div")),__privateSet$1(this,_clearIcon,document.createElement("div")),__privateGet$1(this,_clearIcon).classList.add("tw-i-close","tw-input-clearIcon");const h=__privateGet$1(this,_container).dataset;Object.keys(h).forEach(m=>{__privateGet$1(this,_updateOptions).call(this,m,h)}),__privateGet$1(this,_container).appendChild(__privateGet$1(this,_label)),__privateGet$1(this,_containerInput).appendChild(__privateGet$1(this,_input)),__privateGet$1(this,_container).appendChild(__privateGet$1(this,_containerInput)),__privateGet$1(this,_container).appendChild(__privateGet$1(this,_helperText)),__privateSet$1(this,_observer,new MutationObserver(__privateGet$1(this,_changeDataSet))),__privateGet$1(this,_observer).observe(__privateGet$1(this,_container),{attributes:!0}),__privateGet$1(this,_input).addEventListener("input",__privateGet$1(this,_handleChange$1)),__privateGet$1(this,_input).addEventListener("focus",__privateGet$1(this,_handleFocus)),__privateGet$1(this,_input).addEventListener("blur",__privateGet$1(this,_handleBlur))}}_container=new WeakMap,_containerInput=new WeakMap,_input=new WeakMap,_label=new WeakMap,_helperText=new WeakMap,_startIcon=new WeakMap,_containerEndIcon=new WeakMap,_endIcon=new WeakMap,_clearIcon=new WeakMap,_observer=new WeakMap,_validTypes=new WeakMap,_validAttr=new WeakMap,_changeDataSet=new WeakMap,_updateOptions=new WeakMap,_handleChange$1=new WeakMap,_handleFocus=new WeakMap,_handleBlur=new WeakMap,_handleClear=new WeakMap,_statIconHandleClick=new WeakMap,_endIconHandleClick=new WeakMap;var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function createCommonjsModule(d){var l={exports:{}};return d(l,l.exports),l.exports}/*!
 * validate.js 0.13.1
 *
 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
 * Validate.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * http://validatejs.org/
 */var validate=createCommonjsModule(function(d,l){(function(h,m,p){var w=function(e,t,s){s=i.extend({},i.options,s);var r=i.runValidations(e,t,s);if(r.some(function(a){return i.isPromise(a.error)}))throw new Error("Use validate.async if you want support for promises");return w.processValidationResults(r,s)},i=w;i.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var s in t)e[s]=t[s]}),e},i.extend(w,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var e=i.format("%{major}.%{minor}.%{patch}",i.version);return i.isEmpty(i.version.metadata)||(e+="+"+i.version.metadata),e}},Promise:typeof Promise!="undefined"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,s){var r=[],a,n,c,o,u,f,v;(i.isDomElement(e)||i.isJqueryElement(e))&&(e=i.collectFormValues(e));for(a in t){c=i.getDeepObjectValue(e,a),o=i.result(t[a],c,e,a,s,t);for(n in o){if(u=i.validators[n],!u)throw v=i.format("Unknown validator %{name}",{name:n}),new Error(v);f=o[n],f=i.result(f,c,e,a,s,t),!!f&&r.push({attribute:a,value:c,validator:n,globalOptions:s,attributes:e,options:f,error:u.call(u,c,f,a,e,s)})}}return r},processValidationResults:function(e,t){e=i.pruneEmptyErrors(e,t),e=i.expandMultipleErrors(e,t),e=i.convertErrorMessages(e,t);var s=t.format||"grouped";if(typeof i.formatters[s]=="function")e=i.formatters[s](e);else throw new Error(i.format("Unknown format %{format}",t));return i.isEmpty(e)?void 0:e},async:function(e,t,s){s=i.extend({},i.async.options,s);var r=s.wrapErrors||function(n){return n};s.cleanAttributes!==!1&&(e=i.cleanAttributes(e,t));var a=i.runValidations(e,t,s);return new i.Promise(function(n,c){i.waitForResults(a).then(function(){var o=i.processValidationResults(a,s);o?c(new r(o,s,e,t)):n(e)},function(o){c(o)})})},single:function(e,t,s){return s=i.extend({},i.single.options,s,{format:"flat",fullMessages:!1}),i({single:e},{single:t},s)},waitForResults:function(e){return e.reduce(function(t,s){return i.isPromise(s.error)?t.then(function(){return s.error.then(function(r){s.error=r||null})}):t},new i.Promise(function(t){t()}))},result:function(e){var t=[].slice.call(arguments,1);return typeof e=="function"&&(e=e.apply(null,t)),e},isNumber:function(e){return typeof e=="number"&&!isNaN(e)},isFunction:function(e){return typeof e=="function"},isInteger:function(e){return i.isNumber(e)&&e%1==0},isBoolean:function(e){return typeof e=="boolean"},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return e!=null},isPromise:function(e){return!!e&&i.isFunction(e.then)},isJqueryElement:function(e){return e&&i.isString(e.jquery)},isDomElement:function(e){return!e||!e.querySelectorAll||!e.querySelector?!1:i.isObject(document)&&e===document?!0:typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isEmpty:function(e){var t;if(!i.isDefined(e))return!0;if(i.isFunction(e))return!1;if(i.isString(e))return i.EMPTY_STRING_REGEXP.test(e);if(i.isArray(e))return e.length===0;if(i.isDate(e))return!1;if(i.isObject(e)){for(t in e)return!1;return!0}return!1},format:i.extend(function(e,t){return i.isString(e)?e.replace(i.format.FORMAT_REGEXP,function(s,r,a){return r==="%"?"%{"+a+"}":String(t[a])}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return i.isNumber(e)?e*100%1==0?""+e:parseFloat(Math.round(e*100)/100).toFixed(2):i.isArray(e)?e.map(function(t){return i.prettify(t)}).join(", "):i.isObject(e)?i.isDefined(e.toString)?e.toString():JSON.stringify(e):(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,s,r){return""+s+" "+r.toLowerCase()}).toLowerCase())},stringifyValue:function(e,t){var s=t&&t.prettify||i.prettify;return s(e)},isString:function(e){return typeof e=="string"},isArray:function(e){return{}.toString.call(e)==="[object Array]"},isHash:function(e){return i.isObject(e)&&!i.isArray(e)&&!i.isFunction(e)},contains:function(e,t){return i.isDefined(e)?i.isArray(e)?e.indexOf(t)!==-1:t in e:!1},unique:function(e){return i.isArray(e)?e.filter(function(t,s,r){return r.indexOf(t)==s}):e},forEachKeyInKeypath:function(e,t,s){if(!!i.isString(t)){var r="",a,n=!1;for(a=0;a<t.length;++a)switch(t[a]){case".":n?(n=!1,r+="."):(e=s(e,r,!1),r="");break;case"\\":n?(n=!1,r+="\\"):n=!0;break;default:n=!1,r+=t[a];break}return s(e,r,!0)}},getDeepObjectValue:function(e,t){if(!!i.isObject(e))return i.forEachKeyInKeypath(e,t,function(s,r){if(i.isObject(s))return s[r]})},collectFormValues:function(e,t){var s={},r,a,n,c,o,u;if(i.isJqueryElement(e)&&(e=e[0]),!e)return s;for(t=t||{},c=e.querySelectorAll("input[name], textarea[name]"),r=0;r<c.length;++r)if(n=c.item(r),!i.isDefined(n.getAttribute("data-ignored"))){var f=n.name.replace(/\./g,"\\\\.");u=i.sanitizeFormValue(n.value,t),n.type==="number"?u=u?+u:null:n.type==="checkbox"?n.attributes.value?n.checked||(u=s[f]||null):u=n.checked:n.type==="radio"&&(n.checked||(u=s[f]||null)),s[f]=u}for(c=e.querySelectorAll("select[name]"),r=0;r<c.length;++r)if(n=c.item(r),!i.isDefined(n.getAttribute("data-ignored"))){if(n.multiple){u=[];for(a in n.options)o=n.options[a],o&&o.selected&&u.push(i.sanitizeFormValue(o.value,t))}else{var v=typeof n.options[n.selectedIndex]!="undefined"?n.options[n.selectedIndex].value:"";u=i.sanitizeFormValue(v,t)}s[n.name]=u}return s},sanitizeFormValue:function(e,t){return t.trim&&i.isString(e)&&(e=e.trim()),t.nullify!==!1&&e===""?null:e},capitalize:function(e){return i.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(t){return!i.isEmpty(t.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(s){i.isArray(s.error)?s.error.forEach(function(r){t.push(i.extend({},s,{error:r}))}):t.push(s)}),t},convertErrorMessages:function(e,t){t=t||{};var s=[],r=t.prettify||i.prettify;return e.forEach(function(a){var n=i.result(a.error,a.value,a.attribute,a.options,a.attributes,a.globalOptions);if(!i.isString(n)){s.push(a);return}n[0]==="^"?n=n.slice(1):t.fullMessages!==!1&&(n=i.capitalize(r(a.attribute))+" "+n),n=n.replace(/\\\^/g,"^"),n=i.format(n,{value:i.stringifyValue(a.value,t)}),s.push(i.extend({},a,{error:n}))}),s},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(s){var r=t[s.attribute];r?r.push(s):t[s.attribute]=[s]}),t},flattenErrorsToArray:function(e){return e.map(function(t){return t.error}).filter(function(t,s,r){return r.indexOf(t)===s})},cleanAttributes:function(e,t){function s(n,c,o){return i.isObject(n[c])?n[c]:n[c]=o?!0:{}}function r(n){var c={},o;for(o in n)!n[o]||i.forEachKeyInKeypath(c,o,s);return c}function a(n,c){if(!i.isObject(n))return n;var o=i.extend({},n),u,f;for(f in n)u=c[f],i.isObject(u)?o[f]=a(o[f],u):u||delete o[f];return o}return!i.isObject(t)||!i.isObject(e)?{}:(t=r(t),a(e,t))},exposeModule:function(e,t,s,r,a){s?(r&&r.exports&&(s=r.exports=e),s.validate=e):(t.validate=e,e.isFunction(a)&&a.amd&&a([],function(){return e}))},warn:function(e){typeof console!="undefined"&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){typeof console!="undefined"&&console.error&&console.error("[validate.js] "+e)}}),w.validators={presence:function(e,t){if(t=i.extend({},this.options,t),t.allowEmpty!==!1?!i.isDefined(e):i.isEmpty(e))return t.message||this.message||"can't be blank"},length:function(e,t,s){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var r=t.is,a=t.maximum,n=t.minimum,c=t.tokenizer||function(v){return v},o,u=[];e=c(e);var f=e.length;if(!i.isNumber(f))return t.message||this.notValid||"has an incorrect length";if(i.isNumber(r)&&f!==r&&(o=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(i.format(o,{count:r}))),i.isNumber(n)&&f<n&&(o=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(i.format(o,{count:n}))),i.isNumber(a)&&f>a&&(o=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(i.format(o,{count:a}))),u.length>0)return t.message||u}},numericality:function(e,t,s,r,a){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var n=[],c,o,u={greaterThan:function(g,E){return g>E},greaterThanOrEqualTo:function(g,E){return g>=E},equalTo:function(g,E){return g===E},lessThan:function(g,E){return g<E},lessThanOrEqualTo:function(g,E){return g<=E},divisibleBy:function(g,E){return g%E==0}},f=t.prettify||a&&a.prettify||i.prettify;if(i.isString(e)&&t.strict){var v="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(v+="(\\.\\d+)?"),v+="$",!new RegExp(v).test(e))return t.message||t.notValid||this.notValid||this.message||"must be a valid number"}if(t.noStrings!==!0&&i.isString(e)&&!i.isEmpty(e)&&(e=+e),!i.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"is not a number";if(t.onlyInteger&&!i.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"must be an integer";for(c in u)if(o=t[c],i.isNumber(o)&&!u[c](e,o)){var y="not"+i.capitalize(c),b=t[y]||this[y]||this.message||"must be %{type} %{count}";n.push(i.format(b,{count:o,type:f(c)}))}if(t.odd&&e%2!=1&&n.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!=0&&n.push(t.notEven||this.notEven||this.message||"must be even"),n.length)return t.message||n}},datetime:i.extend(function(e,t){if(!i.isFunction(this.parse)||!i.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(!!i.isDefined(e)){t=i.extend({},this.options,t);var s,r=[],a=t.earliest?this.parse(t.earliest,t):NaN,n=t.latest?this.parse(t.latest,t):NaN;if(e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!=0)return s=t.notValid||t.message||this.notValid||"must be a valid date",i.format(s,{value:arguments[0]});if(!isNaN(a)&&e<a&&(s=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",s=i.format(s,{value:this.format(e,t),date:this.format(a,t)}),r.push(s)),!isNaN(n)&&e>n&&(s=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",s=i.format(s,{date:this.format(n,t),value:this.format(e,t)}),r.push(s)),r.length)return i.unique(r)}},{parse:null,format:null}),date:function(e,t){return t=i.extend({},t,{dateOnly:!0}),i.validators.datetime.call(i.validators.datetime,e,t)},format:function(e,t){(i.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=i.extend({},this.options,t);var s=t.message||this.message||"is invalid",r=t.pattern,a;if(!!i.isDefined(e)&&(!i.isString(e)||(i.isString(r)&&(r=new RegExp(t.pattern,t.flags)),a=r.exec(e),!a||a[0].length!=e.length)))return s},inclusion:function(e,t){if(!!i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!i.contains(t.within,e))){var s=t.message||this.message||"^%{value} is not included in the list";return i.format(s,{value:e})}},exclusion:function(e,t){if(!!i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!!i.contains(t.within,e))){var s=t.message||this.message||"^%{value} is restricted";return i.isString(t.within[e])&&(e=t.within[e]),i.format(s,{value:e})}},email:i.extend(function(e,t){t=i.extend({},this.options,t);var s=t.message||this.message||"is not a valid email";if(!!i.isDefined(e)&&(!i.isString(e)||!this.PATTERN.exec(e)))return s},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(e,t,s,r,a){if(!!i.isDefined(e)){i.isString(t)&&(t={attribute:t}),t=i.extend({},this.options,t);var n=t.message||this.message||"is not equal to %{attribute}";if(i.isEmpty(t.attribute)||!i.isString(t.attribute))throw new Error("The attribute must be a non empty string");var c=i.getDeepObjectValue(r,t.attribute),o=t.comparator||function(f,v){return f===v},u=t.prettify||a&&a.prettify||i.prettify;if(!o(e,c,t,s,r))return i.format(n,{attribute:u(t.attribute)})}},url:function(e,t){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var s=t.message||this.message||"is not a valid url",r=t.schemes||this.schemes||["http","https"],a=t.allowLocal||this.allowLocal||!1,n=t.allowDataUrl||this.allowDataUrl||!1;if(!i.isString(e))return s;var c="^(?:(?:"+r.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",o="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(a?o+="?":c+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",c+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+o+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",n){var u="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",f="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",v="data:(?:"+u+")?(?:;base64)?,"+f;c="(?:"+c+")|(?:^"+v+"$)"}var y=new RegExp(c,"i");if(!y.exec(e))return s}},type:i.extend(function(e,t,s,r,a){if(i.isString(t)&&(t={type:t}),!!i.isDefined(e)){var n=i.extend({},this.options,t),c=n.type;if(!i.isDefined(c))throw new Error("No type was specified");var o;if(i.isFunction(c)?o=c:o=this.types[c],!i.isFunction(o))throw new Error("validate.validators.type.types."+c+" must be a function.");if(!o(e,n,s,r,a)){var u=t.message||this.messages[c]||this.message||n.message||(i.isFunction(c)?"must be of the correct type":"must be of type %{type}");return i.isFunction(u)&&(u=u(e,t,s,r,a)),i.format(u,{attribute:i.prettify(s),type:c})}}},{types:{object:function(e){return i.isObject(e)&&!i.isArray(e)},array:i.isArray,integer:i.isInteger,number:i.isNumber,string:i.isString,date:i.isDate,boolean:i.isBoolean},messages:{}})},w.formatters={detailed:function(e){return e},flat:i.flattenErrorsToArray,grouped:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=i.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=e[t].map(function(s){return s.validator}).sort();return e}},w.exposeModule(w,this,h,m,p)}).call(commonjsGlobal,l,d,null)}),__defProp=Object.defineProperty,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(d,l,h)=>l in d?__defProp(d,l,{enumerable:!0,configurable:!0,writable:!0,value:h}):d[l]=h,__assign=(d,l)=>{for(var h in l||(l={}))__hasOwnProp.call(l,h)&&__defNormalProp(d,h,l[h]);if(__getOwnPropSymbols)for(var h of __getOwnPropSymbols(l))__propIsEnum.call(l,h)&&__defNormalProp(d,h,l[h]);return d},__accessCheck=(d,l,h)=>{if(!l.has(d))throw TypeError("Cannot "+h)},__privateGet=(d,l,h)=>(__accessCheck(d,l,"read from private field"),h?h.call(d):l.get(d)),__privateSet=(d,l,h,m)=>(__accessCheck(d,l,"write to private field"),m?m.call(d,h):l.set(d,h),h),_form,_submit,_inputMap,_initialValues,_values,_errors,_validaTionSchema,_autoController,_handleChange,_submitHandle;class FormControl{constructor({form:l,initialValues:h,validationSchema:m,autoController:p,events:w}){_form.set(this,void 0),_submit.set(this,void 0),_inputMap.set(this,{}),_initialValues.set(this,void 0),_values.set(this,{}),_errors.set(this,{}),_validaTionSchema.set(this,void 0),_autoController.set(this,!1),_handleChange.set(this,e=>{const t=e.target;if(__privateSet(this,_values,__assign(__assign({},__privateGet(this,_values)),{[t.name]:t.value})),__privateGet(this,_errors)[t.name]){const s=__assign({},__privateGet(this,_errors));if(delete s[t.name],__privateSet(this,_errors,s),__privateGet(this,_autoController)){const r=__privateGet(this,_inputMap)[t.name].element;r.dataset.error="false",r.dataset.helpertext=""}}this.onChange&&this.onChange({name:t.name,value:t.value},__privateGet(this,_values))}),_submitHandle.set(this,e=>{e.preventDefault();const t=this.onValidation?this.onValidation(__privateGet(this,_values)):__privateGet(this,_validaTionSchema);if(!t)return;const s=validate.validate(__privateGet(this,_values),t,{format:"detailed"});if(Object.keys(__privateGet(this,_errors)).forEach(r=>{__privateGet(this,_inputMap)[r].element.dataset.error="false",__privateGet(this,_inputMap)[r].element.dataset.helpertext=""}),validate.isArray(s)){const r={};s.forEach(({attribute:a,options:n,error:c},o)=>{var u;const f=(u=n.message)!=null?u:c;if(r[a]=f,__privateGet(this,_autoController)){const v=__privateGet(this,_inputMap)[a].element,y=__privateGet(this,_inputMap)[a].instance;o===0&&y.focus(),v.dataset.error="true",v.dataset.helpertext=f}}),__privateSet(this,_errors,r),this.onError&&this.onError(r);return}this.onSubmit&&this.onSubmit(__privateGet(this,_values))}),this.cleanFields=()=>{Object.values(__privateGet(this,_inputMap)).forEach(({element:e})=>{const t=e;t.dataset.value=""})},this.fieldsToInitials=()=>{Object.entries(__privateGet(this,_inputMap)).forEach(([e,{element:t}])=>{const s=t;s.dataset.value=__privateGet(this,_initialValues)[e]})},this.destroy=()=>{__privateGet(this,_submit).removeEventListener("click",__privateGet(this,_submitHandle)),Object.values(__privateGet(this,_inputMap)).forEach(({instance:e})=>e.destroy())},__privateSet(this,_form,l),__privateSet(this,_initialValues,h),__privateSet(this,_validaTionSchema,m),__privateSet(this,_autoController,p),__privateSet(this,_submit,__privateGet(this,_form).querySelector("button[type=submit]")),__privateGet(this,_submit).addEventListener("click",__privateGet(this,_submitHandle));const i=__privateGet(this,_form).getElementsByTagName("bolt-input");Array.from(i).forEach(e=>{const t=e,s=t.dataset.name||"";t.dataset.value=h[s],__privateGet(this,_values)[s]=h[s];const r=new Input(t);r.onChange=__privateGet(this,_handleChange),w&&w[s]&&Object.keys(w[s]).forEach(a=>{r[a]=w[s][a]}),__privateGet(this,_inputMap)[s]={instance:r,element:t}})}get values(){return __privateGet(this,_values)}get errors(){return __privateGet(this,_errors)}}_form=new WeakMap,_submit=new WeakMap,_inputMap=new WeakMap,_initialValues=new WeakMap,_values=new WeakMap,_errors=new WeakMap,_validaTionSchema=new WeakMap,_autoController=new WeakMap,_handleChange=new WeakMap,_submitHandle=new WeakMap,exports.FormControl=FormControl,exports.Input=Input,exports.Modal=Modal,exports.Sidebar=Sidebar;
//# sourceMappingURL=bolt.js.map
