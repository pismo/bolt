"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var __accessCheck=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)},__privateGet=(t,e,s)=>(__accessCheck(t,e,"read from private field"),s?s.call(t):e.get(t)),__privateSet=(t,e,s,n)=>(__accessCheck(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),__container,__header,__content,__footer,__contentList,__onSelected,__initialize,__clickHandler;class Sidebar{constructor({container:e,header:s,content:n,footerLabel:m,onSelected:_}){__container.set(this,void 0),__header.set(this,void 0),__content.set(this,void 0),__footer.set(this,void 0),__contentList.set(this,{}),__onSelected.set(this,void 0),__initialize.set(this,(c,d,l,u)=>{__privateGet(this,__container).classList.add("sidebar"),__privateGet(this,__header).classList.add("sidebar-btn","sidebar-btn-l0"),__privateGet(this,__content).classList.add("sidebar-content"),__privateGet(this,__footer).classList.add("sidebar-btn-footnote"),__privateGet(this,__container).appendChild(__privateGet(this,__header)),__privateGet(this,__container).appendChild(__privateGet(this,__content)),__privateGet(this,__container).appendChild(__privateGet(this,__footer));const b=document.createElement("span"),h=document.createElement("p");b.classList.add(`i-${d.icon}`,"sidebar-btn-icon"),h.classList.add("sidebar-btn-label"),h.innerText=d.label,__privateGet(this,__header).appendChild(b),__privateGet(this,__header).appendChild(h),l.forEach((a,L)=>{const v=`${L}-${a.level}-${a.label}`,i=document.createElement("button");i.id=v,i.name=a.name||"",i.classList.add("sidebar-btn",`sidebar-btn-l${a.level}`),__privateGet(this,__contentList)[v]=i;let o;a.icon&&(o=document.createElement("span"),o.classList.add(`i-${a.icon}`,"sidebar-btn-icon"),i.appendChild(o));const p=document.createElement("p");p.classList.add("sidebar-btn-label"),p.innerText=a.label,i.appendChild(p),i.addEventListener("click",__privateGet(this,__clickHandler)),__privateGet(this,__content).appendChild(i)});const r=document.createElement("p");r.classList.add("sidebar-btn-label"),r.innerText=u,__privateGet(this,__footer).appendChild(r)}),__clickHandler.set(this,c=>{const d=c.currentTarget;Object.values(__privateGet(this,__contentList)).map(l=>l.classList.remove("selected")),d.classList.add("selected"),__privateGet(this,__onSelected)&&__privateGet(this,__onSelected).call(this,d)}),this.destroy=()=>{__privateGet(this,__container).removeChild(__privateGet(this,__header)),__privateGet(this,__container).removeChild(__privateGet(this,__content)),__privateGet(this,__container).removeChild(__privateGet(this,__footer)),Object.values(__privateGet(this,__contentList)).map(c=>c.removeEventListener("click",__privateGet(this,__clickHandler))),__privateSet(this,__contentList,{})},__privateSet(this,__onSelected,_),__privateSet(this,__container,e),__privateGet(this,__container).dataset.testid="sidebar",__privateSet(this,__header,document.createElement("div")),__privateGet(this,__header).dataset.testid="header",__privateSet(this,__content,document.createElement("div")),__privateGet(this,__content).dataset.testid="content",__privateSet(this,__footer,document.createElement("div")),__privateGet(this,__footer).dataset.testid="footer",__privateGet(this,__initialize).call(this,e,s,n,m)}}__container=new WeakMap,__header=new WeakMap,__content=new WeakMap,__footer=new WeakMap,__contentList=new WeakMap,__onSelected=new WeakMap,__initialize=new WeakMap,__clickHandler=new WeakMap,exports.Sidebar=Sidebar;
//# sourceMappingURL=bolt.js.map
