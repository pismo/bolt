var Me=(u,c,d)=>{if(!c.has(u))throw TypeError("Cannot "+d)},w=(u,c,d)=>(Me(u,c,"read from private field"),d?d.call(u):c.get(u)),H=(u,c,d,v)=>(Me(u,c,"write to private field"),v?v.call(u,d):c.set(u,d),d),T,F,P,V,U,Z,ge,ae;class $e{constructor({container:c,header:d,content:v,footerLabel:y,onSelected:x}){T.set(this,void 0),F.set(this,void 0),P.set(this,void 0),V.set(this,void 0),U.set(this,{}),Z.set(this,void 0),ge.set(this,(i,e,t,n)=>{w(this,T).classList.add("tw-sidebar"),w(this,F).classList.add("tw-sidebar-btn","tw-sidebar-btn-l0"),w(this,P).classList.add("tw-sidebar-content"),w(this,V).classList.add("tw-sidebar-btn-footnote"),w(this,T).appendChild(w(this,F)),w(this,T).appendChild(w(this,P)),w(this,T).appendChild(w(this,V));const a=document.createElement("span"),l=document.createElement("p");a.classList.add(`tw-i-${e.icon}`,"tw-sidebar-btn-icon"),l.classList.add("tw-sidebar-btn-label"),l.innerText=e.label,w(this,F).appendChild(a),w(this,F).appendChild(l),t.forEach((o,f)=>{const m=`${f}-${o.level}-${o.label}`,p=document.createElement("button");p.id=m,p.name=o.name||"",p.classList.add("tw-sidebar-btn",`tw-sidebar-btn-l${o.level}`),w(this,U)[m]=p;let k;o.icon&&(k=document.createElement("span"),k.classList.add(`tw-i-${o.icon}`,"tw-sidebar-btn-icon"),p.appendChild(k));const D=document.createElement("p");D.classList.add("tw-sidebar-btn-label"),D.innerText=o.label,p.appendChild(D),p.addEventListener("click",w(this,ae)),w(this,P).appendChild(p)});const r=document.createElement("p");r.classList.add("tw-sidebar-btn-label"),r.innerText=n,w(this,V).appendChild(r)}),ae.set(this,i=>{const e=i.currentTarget;Object.values(w(this,U)).map(t=>t.classList.remove("selected")),e.classList.add("selected"),w(this,Z)&&w(this,Z).call(this,e)}),this.destroy=()=>{w(this,T).removeChild(w(this,F)),w(this,T).removeChild(w(this,P)),w(this,T).removeChild(w(this,V)),Object.values(w(this,U)).map(i=>i.removeEventListener("click",w(this,ae))),H(this,U,{})},H(this,Z,x),H(this,T,c),w(this,T).dataset.testid="sidebar",H(this,F,document.createElement("div")),w(this,F).dataset.testid="header",H(this,P,document.createElement("div")),w(this,P).dataset.testid="content",H(this,V,document.createElement("div")),w(this,V).dataset.testid="footer",w(this,ge).call(this,c,d,v,y)}}T=new WeakMap,F=new WeakMap,P=new WeakMap,V=new WeakMap,U=new WeakMap,Z=new WeakMap,ge=new WeakMap,ae=new WeakMap;var Se=(u,c,d)=>{if(!c.has(u))throw TypeError("Cannot "+d)},h=(u,c,d)=>(Se(u,c,"read from private field"),d?d.call(u):c.get(u)),le=(u,c,d,v)=>(Se(u,c,"write to private field"),v?v.call(u,d):c.set(u,d),d),he,b,R,L,Ee,ye,be,ce,Q,K,ee,J,de;class ze{constructor(c){he.set(this,!1),b.set(this,void 0),R.set(this,void 0),L.set(this,void 0),Ee.set(this,()=>{h(this,b).appendChild(h(this,R)),document.body.appendChild(h(this,L)),document.body.appendChild(h(this,b)),h(this,R).style.display="none",h(this,b).style.display="none",h(this,L).style.display="none",h(this,b).classList.add("tw-modal"),h(this,b).classList.add("tw-modal-close"),h(this,L).classList.add("tw-modal-backdrop"),h(this,L).classList.add("tw-modal-backdrop-close"),h(this,L).addEventListener("click",h(this,de)),h(this,R).classList.add("tw-modal-content"),setTimeout(()=>{h(this,b).style.removeProperty("display"),h(this,L).style.removeProperty("display"),h(this,R).style.removeProperty("display")},300)}),ye.set(this,()=>{h(this,L).addEventListener("transitionstart",h(this,Q)),h(this,b).addEventListener("transitioncancel",h(this,K)),h(this,b).addEventListener("transitionend",h(this,K)),h(this,L).classList.remove("tw-modal-backdrop-close"),h(this,L).classList.add("tw-modal-backdrop-open"),h(this,b).classList.remove("tw-modal-close"),h(this,b).classList.add("tw-modal-open")}),be.set(this,()=>{h(this,b).addEventListener("transitionstart",h(this,ee)),h(this,L).addEventListener("transitioncancel",h(this,J)),h(this,L).addEventListener("transitionend",h(this,J)),h(this,L).classList.remove("tw-modal-backdrop-open"),h(this,L).classList.add("tw-modal-backdrop-close"),h(this,b).classList.remove("tw-modal-open"),h(this,b).classList.add("tw-modal-close")}),ce.set(this,()=>{h(this,L).removeEventListener("transitionstart",h(this,Q)),h(this,b).removeEventListener("transitioncancel",h(this,K)),h(this,b).removeEventListener("transitionend",h(this,K)),h(this,b).removeEventListener("transitionstart",h(this,ee)),h(this,L).removeEventListener("transitioncancel",h(this,J)),h(this,L).removeEventListener("transitionend",h(this,J))}),Q.set(this,()=>{h(this,L).removeEventListener("transitionstart",h(this,Q)),this.onStartOpen&&this.onStartOpen()}),K.set(this,()=>{h(this,ce).call(this),this.onEndOpen&&this.onEndOpen()}),ee.set(this,()=>{h(this,b).removeEventListener("transitionstart",h(this,ee)),this.onStartClose&&this.onStartClose()}),J.set(this,()=>{h(this,ce).call(this),this.onEndClose&&this.onEndClose()}),de.set(this,()=>{this.onClose&&this.onClose()}),this.destroy=()=>{h(this,b).removeChild(h(this,R));const d=h(this,b).parentElement;d.removeChild(h(this,L)),d.removeChild(h(this,b)),h(this,L).removeEventListener("click",h(this,de))},le(this,R,c),le(this,b,document.createElement("div")),le(this,L,document.createElement("div")),h(this,L).dataset.testid="backdrop",h(this,Ee).call(this)}get isOpen(){return h(this,he)}set isOpen(c){if(le(this,he,c),c){h(this,ye).call(this);return}h(this,be).call(this)}}he=new WeakMap,b=new WeakMap,R=new WeakMap,L=new WeakMap,Ee=new WeakMap,ye=new WeakMap,be=new WeakMap,ce=new WeakMap,Q=new WeakMap,K=new WeakMap,ee=new WeakMap,J=new WeakMap,de=new WeakMap;var We=(u,c,d)=>{if(!c.has(u))throw TypeError("Cannot "+d)},s=(u,c,d)=>(We(u,c,"read from private field"),d?d.call(u):c.get(u)),$=(u,c,d,v)=>(We(u,c,"write to private field"),v?v.call(u,d):c.set(u,d),d),W,I,g,q,j,C,_,M,S,te,Le,_e,ke,oe,ue,fe,me,X,ie,Y;class Oe{constructor(c){W.set(this,void 0),I.set(this,void 0),g.set(this,void 0),q.set(this,void 0),j.set(this,void 0),C.set(this,void 0),_.set(this,void 0),M.set(this,void 0),S.set(this,void 0),te.set(this,void 0),Le.set(this,["number","password","text"]),_e.set(this,["max","maxlength","min","step","name"]),ke.set(this,v=>{v.forEach(y=>{const x=y.attributeName.replace("data-",""),i=s(this,W).dataset;s(this,oe).call(this,x,i)})}),oe.set(this,(v,y)=>{var x,i,e;switch(v){case"label":s(this,q).innerText=(x=y.label)!=null?x:"";break;case"helpertext":s(this,j).innerText=(i=y.helpertext)!=null?i:"";break;case"disabled":String(y.disabled)==="true"?s(this,g).setAttribute("disabled","true"):s(this,g).removeAttribute("disabled");break;case"error":String(y.error)==="true"&&(!y.disabled||String(y.disabled)==="false")?(s(this,g).classList.add("tw-input-error"),s(this,q).classList.add("tw-input-element-error"),s(this,j).classList.add("tw-input-element-error"),s(this,C).classList.add("tw-input-element-error"),s(this,_).classList.add("tw-input-element-error")):(s(this,g).classList.remove("tw-input-error"),s(this,q).classList.remove("tw-input-element-error"),s(this,j).classList.remove("tw-input-element-error"),s(this,C).classList.remove("tw-input-element-error"),s(this,_).classList.remove("tw-input-element-error"));break;case"value":typeof y.value=="string"&&(s(this,g).value=(e=y.value)!=null?e:"");break;case"starticon":s(this,C).classList.add(`tw-i-${y.starticon}`),s(this,C).addEventListener("click",s(this,ie)),s(this,g).classList.add("tw-input-startIcon-padding"),s(this,C).parentElement||s(this,I).appendChild(s(this,C));break;case"endicon":s(this,M).classList.remove(...Array.from(s(this,M).classList)),s(this,M).classList.add(`tw-i-${y.endicon}`),s(this,g).classList.add("tw-input-endIcon-single-padding"),s(this,g).classList.add("tw-input-endIcon-double-padding"),s(this,M).addEventListener("click",s(this,Y)),s(this,M).parentElement||s(this,_).appendChild(s(this,M)),s(this,_).parentElement||s(this,I).appendChild(s(this,_));break;case"clearicon":y.clearicon==="true"?(s(this,g).classList.add("tw-input-endIcon-single-padding"),s(this,g).classList.add("tw-input-endIcon-double-padding"),s(this,S).addEventListener("click",s(this,X)),s(this,S).parentElement||s(this,_).insertBefore(s(this,S),s(this,_).firstChild),s(this,_).parentElement||s(this,I).appendChild(s(this,_))):(s(this,_).removeChild(s(this,S)),s(this,S).removeEventListener("click",s(this,X)));break;case"type":s(this,Le).includes(String(y.type))&&s(this,g).setAttribute("type",y.type);break;default:s(this,_e).includes(v)&&s(this,g).setAttribute(v,y[v])}y.starticon||(s(this,C).parentElement&&s(this,I).removeChild(s(this,C)),s(this,g).classList.remove("tw-input-startIcon-padding"),s(this,C).removeEventListener("click",s(this,ie))),y.clearicon||(s(this,g).classList.remove("tw-input-endIcon-double-padding"),s(this,S).parentElement&&s(this,_).removeChild(s(this,S))),y.endicon||(s(this,g).classList.remove("tw-input-endIcon-double-padding"),s(this,M).parentElement&&s(this,_).removeChild(s(this,M)),s(this,M).removeEventListener("click",s(this,Y))),!y.clearicon&&!y.endicon&&(s(this,_).parentElement&&s(this,I).removeChild(s(this,_)),s(this,M).parentElement&&s(this,_).removeChild(s(this,M)),s(this,S).parentElement&&s(this,_).removeChild(s(this,S)),s(this,g).classList.remove("tw-input-endIcon-single-padding"),s(this,g).classList.remove("tw-input-endIcon-double-padding"),s(this,S).removeEventListener("click",s(this,X)),s(this,M).removeEventListener("click",s(this,Y)))}),ue.set(this,v=>{this.onChange&&this.onChange(v)}),fe.set(this,v=>{s(this,C).classList.add("tw-input-focus"),s(this,_).classList.add("tw-input-focus"),this.onFocus&&this.onFocus(v)}),me.set(this,v=>{s(this,C).classList.remove("tw-input-focus"),s(this,_).classList.remove("tw-input-focus"),this.onBlur&&this.onBlur(v)}),X.set(this,v=>{s(this,g).value="",this.onChange&&this.onChange(v)}),ie.set(this,v=>{this.onStartIconClick&&this.onStartIconClick(v)}),Y.set(this,v=>{this.onEndIconClick&&this.onEndIconClick(v)}),this.focus=()=>{s(this,g).focus()},this.blur=()=>{s(this,g).blur()},this.destroy=()=>{for(s(this,te).disconnect(),s(this,g).removeEventListener("input",s(this,ue)),s(this,g).removeEventListener("focus",s(this,fe)),s(this,g).removeEventListener("blur",s(this,me)),s(this,S).removeEventListener("click",s(this,X)),s(this,C).removeEventListener("click",s(this,ie)),s(this,M).removeEventListener("click",s(this,Y));s(this,W).children.length>0;)s(this,W).removeChild(s(this,W).children[s(this,W).children.length-1])},$(this,W,c),s(this,W).classList.add("tw-input-container"),$(this,q,document.createElement("label")),s(this,q).classList.add("tw-input-label"),$(this,I,document.createElement("div")),s(this,I).classList.add("tw-input-containerInput"),$(this,g,document.createElement("input")),s(this,g).classList.add("tw-input"),$(this,j,document.createElement("p")),s(this,j).classList.add("tw-input-helperText"),$(this,C,document.createElement("div")),s(this,C).classList.add("tw-input-startIcon"),$(this,_,document.createElement("div")),s(this,_).classList.add("tw-input-endIcon"),$(this,M,document.createElement("div")),$(this,S,document.createElement("div")),s(this,S).classList.add("tw-i-close","tw-input-clearIcon");const d=s(this,W).dataset;Object.keys(d).forEach(v=>{s(this,oe).call(this,v,d)}),s(this,W).appendChild(s(this,q)),s(this,I).appendChild(s(this,g)),s(this,W).appendChild(s(this,I)),s(this,W).appendChild(s(this,j)),$(this,te,new MutationObserver(s(this,ke))),s(this,te).observe(s(this,W),{attributes:!0}),s(this,g).addEventListener("input",s(this,ue)),s(this,g).addEventListener("focus",s(this,fe)),s(this,g).addEventListener("blur",s(this,me))}}W=new WeakMap,I=new WeakMap,g=new WeakMap,q=new WeakMap,j=new WeakMap,C=new WeakMap,_=new WeakMap,M=new WeakMap,S=new WeakMap,te=new WeakMap,Le=new WeakMap,_e=new WeakMap,ke=new WeakMap,oe=new WeakMap,ue=new WeakMap,fe=new WeakMap,me=new WeakMap,X=new WeakMap,ie=new WeakMap,Y=new WeakMap;var Fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Pe(u){var c={exports:{}};return u(c,c.exports),c.exports}/*!
 * validate.js 0.13.1
 *
 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
 * Validate.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * http://validatejs.org/
 */var Ae=Pe(function(u,c){(function(d,v,y){var x=function(e,t,n){n=i.extend({},i.options,n);var a=i.runValidations(e,t,n);if(a.some(function(l){return i.isPromise(l.error)}))throw new Error("Use validate.async if you want support for promises");return x.processValidationResults(a,n)},i=x;i.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e},i.extend(x,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var e=i.format("%{major}.%{minor}.%{patch}",i.version);return i.isEmpty(i.version.metadata)||(e+="+"+i.version.metadata),e}},Promise:typeof Promise!="undefined"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,n){var a=[],l,r,o,f,m,p,k;(i.isDomElement(e)||i.isJqueryElement(e))&&(e=i.collectFormValues(e));for(l in t){o=i.getDeepObjectValue(e,l),f=i.result(t[l],o,e,l,n,t);for(r in f){if(m=i.validators[r],!m)throw k=i.format("Unknown validator %{name}",{name:r}),new Error(k);p=f[r],p=i.result(p,o,e,l,n,t),!!p&&a.push({attribute:l,value:o,validator:r,globalOptions:n,attributes:e,options:p,error:m.call(m,o,p,l,e,n)})}}return a},processValidationResults:function(e,t){e=i.pruneEmptyErrors(e,t),e=i.expandMultipleErrors(e,t),e=i.convertErrorMessages(e,t);var n=t.format||"grouped";if(typeof i.formatters[n]=="function")e=i.formatters[n](e);else throw new Error(i.format("Unknown format %{format}",t));return i.isEmpty(e)?void 0:e},async:function(e,t,n){n=i.extend({},i.async.options,n);var a=n.wrapErrors||function(r){return r};n.cleanAttributes!==!1&&(e=i.cleanAttributes(e,t));var l=i.runValidations(e,t,n);return new i.Promise(function(r,o){i.waitForResults(l).then(function(){var f=i.processValidationResults(l,n);f?o(new a(f,n,e,t)):r(e)},function(f){o(f)})})},single:function(e,t,n){return n=i.extend({},i.single.options,n,{format:"flat",fullMessages:!1}),i({single:e},{single:t},n)},waitForResults:function(e){return e.reduce(function(t,n){return i.isPromise(n.error)?t.then(function(){return n.error.then(function(a){n.error=a||null})}):t},new i.Promise(function(t){t()}))},result:function(e){var t=[].slice.call(arguments,1);return typeof e=="function"&&(e=e.apply(null,t)),e},isNumber:function(e){return typeof e=="number"&&!isNaN(e)},isFunction:function(e){return typeof e=="function"},isInteger:function(e){return i.isNumber(e)&&e%1==0},isBoolean:function(e){return typeof e=="boolean"},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return e!=null},isPromise:function(e){return!!e&&i.isFunction(e.then)},isJqueryElement:function(e){return e&&i.isString(e.jquery)},isDomElement:function(e){return!e||!e.querySelectorAll||!e.querySelector?!1:i.isObject(document)&&e===document?!0:typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isEmpty:function(e){var t;if(!i.isDefined(e))return!0;if(i.isFunction(e))return!1;if(i.isString(e))return i.EMPTY_STRING_REGEXP.test(e);if(i.isArray(e))return e.length===0;if(i.isDate(e))return!1;if(i.isObject(e)){for(t in e)return!1;return!0}return!1},format:i.extend(function(e,t){return i.isString(e)?e.replace(i.format.FORMAT_REGEXP,function(n,a,l){return a==="%"?"%{"+l+"}":String(t[l])}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return i.isNumber(e)?e*100%1==0?""+e:parseFloat(Math.round(e*100)/100).toFixed(2):i.isArray(e)?e.map(function(t){return i.prettify(t)}).join(", "):i.isObject(e)?i.isDefined(e.toString)?e.toString():JSON.stringify(e):(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,n,a){return""+n+" "+a.toLowerCase()}).toLowerCase())},stringifyValue:function(e,t){var n=t&&t.prettify||i.prettify;return n(e)},isString:function(e){return typeof e=="string"},isArray:function(e){return{}.toString.call(e)==="[object Array]"},isHash:function(e){return i.isObject(e)&&!i.isArray(e)&&!i.isFunction(e)},contains:function(e,t){return i.isDefined(e)?i.isArray(e)?e.indexOf(t)!==-1:t in e:!1},unique:function(e){return i.isArray(e)?e.filter(function(t,n,a){return a.indexOf(t)==n}):e},forEachKeyInKeypath:function(e,t,n){if(!!i.isString(t)){var a="",l,r=!1;for(l=0;l<t.length;++l)switch(t[l]){case".":r?(r=!1,a+="."):(e=n(e,a,!1),a="");break;case"\\":r?(r=!1,a+="\\"):r=!0;break;default:r=!1,a+=t[l];break}return n(e,a,!0)}},getDeepObjectValue:function(e,t){if(!!i.isObject(e))return i.forEachKeyInKeypath(e,t,function(n,a){if(i.isObject(n))return n[a]})},collectFormValues:function(e,t){var n={},a,l,r,o,f,m;if(i.isJqueryElement(e)&&(e=e[0]),!e)return n;for(t=t||{},o=e.querySelectorAll("input[name], textarea[name]"),a=0;a<o.length;++a)if(r=o.item(a),!i.isDefined(r.getAttribute("data-ignored"))){var p=r.name.replace(/\./g,"\\\\.");m=i.sanitizeFormValue(r.value,t),r.type==="number"?m=m?+m:null:r.type==="checkbox"?r.attributes.value?r.checked||(m=n[p]||null):m=r.checked:r.type==="radio"&&(r.checked||(m=n[p]||null)),n[p]=m}for(o=e.querySelectorAll("select[name]"),a=0;a<o.length;++a)if(r=o.item(a),!i.isDefined(r.getAttribute("data-ignored"))){if(r.multiple){m=[];for(l in r.options)f=r.options[l],f&&f.selected&&m.push(i.sanitizeFormValue(f.value,t))}else{var k=typeof r.options[r.selectedIndex]!="undefined"?r.options[r.selectedIndex].value:"";m=i.sanitizeFormValue(k,t)}n[r.name]=m}return n},sanitizeFormValue:function(e,t){return t.trim&&i.isString(e)&&(e=e.trim()),t.nullify!==!1&&e===""?null:e},capitalize:function(e){return i.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(t){return!i.isEmpty(t.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(n){i.isArray(n.error)?n.error.forEach(function(a){t.push(i.extend({},n,{error:a}))}):t.push(n)}),t},convertErrorMessages:function(e,t){t=t||{};var n=[],a=t.prettify||i.prettify;return e.forEach(function(l){var r=i.result(l.error,l.value,l.attribute,l.options,l.attributes,l.globalOptions);if(!i.isString(r)){n.push(l);return}r[0]==="^"?r=r.slice(1):t.fullMessages!==!1&&(r=i.capitalize(a(l.attribute))+" "+r),r=r.replace(/\\\^/g,"^"),r=i.format(r,{value:i.stringifyValue(l.value,t)}),n.push(i.extend({},l,{error:r}))}),n},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(n){var a=t[n.attribute];a?a.push(n):t[n.attribute]=[n]}),t},flattenErrorsToArray:function(e){return e.map(function(t){return t.error}).filter(function(t,n,a){return a.indexOf(t)===n})},cleanAttributes:function(e,t){function n(r,o,f){return i.isObject(r[o])?r[o]:r[o]=f?!0:{}}function a(r){var o={},f;for(f in r)!r[f]||i.forEachKeyInKeypath(o,f,n);return o}function l(r,o){if(!i.isObject(r))return r;var f=i.extend({},r),m,p;for(p in r)m=o[p],i.isObject(m)?f[p]=l(f[p],m):m||delete f[p];return f}return!i.isObject(t)||!i.isObject(e)?{}:(t=a(t),l(e,t))},exposeModule:function(e,t,n,a,l){n?(a&&a.exports&&(n=a.exports=e),n.validate=e):(t.validate=e,e.isFunction(l)&&l.amd&&l([],function(){return e}))},warn:function(e){typeof console!="undefined"&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){typeof console!="undefined"&&console.error&&console.error("[validate.js] "+e)}}),x.validators={presence:function(e,t){if(t=i.extend({},this.options,t),t.allowEmpty!==!1?!i.isDefined(e):i.isEmpty(e))return t.message||this.message||"can't be blank"},length:function(e,t,n){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var a=t.is,l=t.maximum,r=t.minimum,o=t.tokenizer||function(k){return k},f,m=[];e=o(e);var p=e.length;if(!i.isNumber(p))return t.message||this.notValid||"has an incorrect length";if(i.isNumber(a)&&p!==a&&(f=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",m.push(i.format(f,{count:a}))),i.isNumber(r)&&p<r&&(f=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",m.push(i.format(f,{count:r}))),i.isNumber(l)&&p>l&&(f=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",m.push(i.format(f,{count:l}))),m.length>0)return t.message||m}},numericality:function(e,t,n,a,l){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var r=[],o,f,m={greaterThan:function(O,A){return O>A},greaterThanOrEqualTo:function(O,A){return O>=A},equalTo:function(O,A){return O===A},lessThan:function(O,A){return O<A},lessThanOrEqualTo:function(O,A){return O<=A},divisibleBy:function(O,A){return O%A==0}},p=t.prettify||l&&l.prettify||i.prettify;if(i.isString(e)&&t.strict){var k="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(k+="(\\.\\d+)?"),k+="$",!new RegExp(k).test(e))return t.message||t.notValid||this.notValid||this.message||"must be a valid number"}if(t.noStrings!==!0&&i.isString(e)&&!i.isEmpty(e)&&(e=+e),!i.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"is not a number";if(t.onlyInteger&&!i.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"must be an integer";for(o in m)if(f=t[o],i.isNumber(f)&&!m[o](e,f)){var D="not"+i.capitalize(o),De=t[D]||this[D]||this.message||"must be %{type} %{count}";r.push(i.format(De,{count:f,type:p(o)}))}if(t.odd&&e%2!=1&&r.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!=0&&r.push(t.notEven||this.notEven||this.message||"must be even"),r.length)return t.message||r}},datetime:i.extend(function(e,t){if(!i.isFunction(this.parse)||!i.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(!!i.isDefined(e)){t=i.extend({},this.options,t);var n,a=[],l=t.earliest?this.parse(t.earliest,t):NaN,r=t.latest?this.parse(t.latest,t):NaN;if(e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!=0)return n=t.notValid||t.message||this.notValid||"must be a valid date",i.format(n,{value:arguments[0]});if(!isNaN(l)&&e<l&&(n=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",n=i.format(n,{value:this.format(e,t),date:this.format(l,t)}),a.push(n)),!isNaN(r)&&e>r&&(n=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",n=i.format(n,{date:this.format(r,t),value:this.format(e,t)}),a.push(n)),a.length)return i.unique(a)}},{parse:null,format:null}),date:function(e,t){return t=i.extend({},t,{dateOnly:!0}),i.validators.datetime.call(i.validators.datetime,e,t)},format:function(e,t){(i.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=i.extend({},this.options,t);var n=t.message||this.message||"is invalid",a=t.pattern,l;if(!!i.isDefined(e)&&(!i.isString(e)||(i.isString(a)&&(a=new RegExp(t.pattern,t.flags)),l=a.exec(e),!l||l[0].length!=e.length)))return n},inclusion:function(e,t){if(!!i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!i.contains(t.within,e))){var n=t.message||this.message||"^%{value} is not included in the list";return i.format(n,{value:e})}},exclusion:function(e,t){if(!!i.isDefined(e)&&(i.isArray(t)&&(t={within:t}),t=i.extend({},this.options,t),!!i.contains(t.within,e))){var n=t.message||this.message||"^%{value} is restricted";return i.isString(t.within[e])&&(e=t.within[e]),i.format(n,{value:e})}},email:i.extend(function(e,t){t=i.extend({},this.options,t);var n=t.message||this.message||"is not a valid email";if(!!i.isDefined(e)&&(!i.isString(e)||!this.PATTERN.exec(e)))return n},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(e,t,n,a,l){if(!!i.isDefined(e)){i.isString(t)&&(t={attribute:t}),t=i.extend({},this.options,t);var r=t.message||this.message||"is not equal to %{attribute}";if(i.isEmpty(t.attribute)||!i.isString(t.attribute))throw new Error("The attribute must be a non empty string");var o=i.getDeepObjectValue(a,t.attribute),f=t.comparator||function(p,k){return p===k},m=t.prettify||l&&l.prettify||i.prettify;if(!f(e,o,t,n,a))return i.format(r,{attribute:m(t.attribute)})}},url:function(e,t){if(!!i.isDefined(e)){t=i.extend({},this.options,t);var n=t.message||this.message||"is not a valid url",a=t.schemes||this.schemes||["http","https"],l=t.allowLocal||this.allowLocal||!1,r=t.allowDataUrl||this.allowDataUrl||!1;if(!i.isString(e))return n;var o="^(?:(?:"+a.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(l?f+="?":o+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",o+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+f+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",r){var m="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",p="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",k="data:(?:"+m+")?(?:;base64)?,"+p;o="(?:"+o+")|(?:^"+k+"$)"}var D=new RegExp(o,"i");if(!D.exec(e))return n}},type:i.extend(function(e,t,n,a,l){if(i.isString(t)&&(t={type:t}),!!i.isDefined(e)){var r=i.extend({},this.options,t),o=r.type;if(!i.isDefined(o))throw new Error("No type was specified");var f;if(i.isFunction(o)?f=o:f=this.types[o],!i.isFunction(f))throw new Error("validate.validators.type.types."+o+" must be a function.");if(!f(e,r,n,a,l)){var m=t.message||this.messages[o]||this.message||r.message||(i.isFunction(o)?"must be of the correct type":"must be of type %{type}");return i.isFunction(m)&&(m=m(e,t,n,a,l)),i.format(m,{attribute:i.prettify(n),type:o})}}},{types:{object:function(e){return i.isObject(e)&&!i.isArray(e)},array:i.isArray,integer:i.isInteger,number:i.isNumber,string:i.isString,date:i.isDate,boolean:i.isBoolean},messages:{}})},x.formatters={detailed:function(e){return e},flat:i.flattenErrorsToArray,grouped:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=i.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;e=i.groupErrorsByAttribute(e);for(t in e)e[t]=e[t].map(function(n){return n.validator}).sort();return e}},x.exposeModule(x,this,d,v,y)}).call(Fe,c,u,null)}),Ve=Object.defineProperty,Re=Object.prototype.hasOwnProperty,Te=Object.getOwnPropertySymbols,qe=Object.prototype.propertyIsEnumerable,Ie=(u,c,d)=>c in u?Ve(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,xe=(u,c)=>{for(var d in c||(c={}))Re.call(c,d)&&Ie(u,d,c[d]);if(Te)for(var d of Te(c))qe.call(c,d)&&Ie(u,d,c[d]);return u},Ne=(u,c,d)=>{if(!c.has(u))throw TypeError("Cannot "+d)},E=(u,c,d)=>(Ne(u,c,"read from private field"),d?d.call(u):c.get(u)),B=(u,c,d,v)=>(Ne(u,c,"write to private field"),v?v.call(u,d):c.set(u,d),d),se,ne,N,pe,z,G,ve,re,Ce,we;class je{constructor({form:c,initialValues:d,validationSchema:v,autoController:y,events:x}){se.set(this,void 0),ne.set(this,void 0),N.set(this,{}),pe.set(this,void 0),z.set(this,{}),G.set(this,{}),ve.set(this,void 0),re.set(this,!1),Ce.set(this,e=>{const t=e.target;if(B(this,z,xe(xe({},E(this,z)),{[t.name]:t.value})),E(this,G)[t.name]){const n=xe({},E(this,G));if(delete n[t.name],B(this,G,n),E(this,re)){const a=E(this,N)[t.name].element;a.dataset.error="false",a.dataset.helpertext=""}}this.onChange&&this.onChange({name:t.name,value:t.value},E(this,z))}),we.set(this,e=>{e.preventDefault();const t=this.onValidation?this.onValidation(E(this,z)):E(this,ve);if(!t)return;const n=Ae.validate(E(this,z),t,{format:"detailed"});if(Object.keys(E(this,G)).forEach(a=>{E(this,N)[a].element.dataset.error="false",E(this,N)[a].element.dataset.helpertext=""}),Ae.isArray(n)){const a={};n.forEach(({attribute:l,options:r,error:o},f)=>{var m;const p=(m=r.message)!=null?m:o;if(a[l]=p,E(this,re)){const k=E(this,N)[l].element,D=E(this,N)[l].instance;f===0&&D.focus(),k.dataset.error="true",k.dataset.helpertext=p}}),B(this,G,a),this.onError&&this.onError(a);return}this.onSubmit&&this.onSubmit(E(this,z))}),this.cleanFields=()=>{Object.values(E(this,N)).forEach(({element:e})=>{const t=e;t.dataset.value=""})},this.fieldsToInitials=()=>{Object.entries(E(this,N)).forEach(([e,{element:t}])=>{const n=t;n.dataset.value=E(this,pe)[e]})},this.destroy=()=>{E(this,ne).removeEventListener("click",E(this,we)),Object.values(E(this,N)).forEach(({instance:e})=>e.destroy())},B(this,se,c),B(this,pe,d),B(this,ve,v),B(this,re,y),B(this,ne,E(this,se).querySelector("button[type=submit]")),E(this,ne).addEventListener("click",E(this,we));const i=E(this,se).getElementsByTagName("bolt-input");Array.from(i).forEach(e=>{const t=e,n=t.dataset.name||"";t.dataset.value=d[n],E(this,z)[n]=d[n];const a=new Oe(t);a.onChange=E(this,Ce),x&&x[n]&&Object.keys(x[n]).forEach(l=>{a[l]=x[n][l]}),E(this,N)[n]={instance:a,element:t}})}get values(){return E(this,z)}get errors(){return E(this,G)}}se=new WeakMap,ne=new WeakMap,N=new WeakMap,pe=new WeakMap,z=new WeakMap,G=new WeakMap,ve=new WeakMap,re=new WeakMap,Ce=new WeakMap,we=new WeakMap;export{je as FormControl,Oe as Input,ze as Modal,$e as Sidebar};
//# sourceMappingURL=bolt.mjs.map
