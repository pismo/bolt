var B=(d,s,n)=>{if(!s.has(d))throw TypeError("Cannot "+n)},e=(d,s,n)=>(B(d,s,"read from private field"),n?n.call(d):s.get(d)),L=(d,s,n,v)=>(B(d,s,"write to private field"),v?v.call(d,n):s.set(d,n),n),h,o,l,c,_,C,P,u;class Q{constructor({container:s,header:n,content:v,footerLabel:F,onSelected:J}){h.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),_.set(this,{}),C.set(this,void 0),P.set(this,(M,b,S,K)=>{e(this,h).classList.add("sidebar"),e(this,o).classList.add("sidebar-btn","sidebar-btn-l0"),e(this,l).classList.add("sidebar-content"),e(this,c).classList.add("sidebar-btn-footnote"),e(this,h).appendChild(e(this,o)),e(this,h).appendChild(e(this,l)),e(this,h).appendChild(e(this,c));const I=document.createElement("span"),T=document.createElement("p");I.classList.add(`i-${b.icon}`,"sidebar-btn-icon"),T.classList.add("sidebar-btn-label"),T.innerText=b.label,e(this,o).appendChild(I),e(this,o).appendChild(T),S.forEach((m,N)=>{const q=`${N}-${m.level}-${m.label}`,r=document.createElement("button");r.id=q,r.name=m.name||"",r.classList.add("sidebar-btn",`sidebar-btn-l${m.level}`),e(this,_)[q]=r;let x;m.icon&&(x=document.createElement("span"),x.classList.add(`i-${m.icon}`,"sidebar-btn-icon"),r.appendChild(x));const g=document.createElement("p");g.classList.add("sidebar-btn-label"),g.innerText=m.label,r.appendChild(g),r.addEventListener("click",e(this,u)),e(this,l).appendChild(r)});const A=document.createElement("p");A.classList.add("sidebar-btn-label"),A.innerText=K,e(this,c).appendChild(A)}),u.set(this,M=>{const b=M.currentTarget;Object.values(e(this,_)).map(S=>S.classList.remove("selected")),b.classList.add("selected"),e(this,C)&&e(this,C).call(this,b)}),this.destroy=()=>{e(this,h).removeChild(e(this,o)),e(this,h).removeChild(e(this,l)),e(this,h).removeChild(e(this,c)),Object.values(e(this,_)).map(M=>M.removeEventListener("click",e(this,u))),L(this,_,{})},L(this,C,J),L(this,h,s),e(this,h).dataset.testid="sidebar",L(this,o,document.createElement("div")),e(this,o).dataset.testid="header",L(this,l,document.createElement("div")),e(this,l).dataset.testid="content",L(this,c,document.createElement("div")),e(this,c).dataset.testid="footer",e(this,P).call(this,s,n,v,F)}}h=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,_=new WeakMap,C=new WeakMap,P=new WeakMap,u=new WeakMap;var D=(d,s,n)=>{if(!s.has(d))throw TypeError("Cannot "+n)},t=(d,s,n)=>(D(d,s,"read from private field"),n?n.call(d):s.get(d)),y=(d,s,n,v)=>(D(d,s,"write to private field"),v?v.call(d,n):s.set(d,n),n),W,i,p,a,z,G,H,O,w,E,f,k,$;class R{constructor(s){W.set(this,!1),i.set(this,void 0),p.set(this,void 0),a.set(this,void 0),z.set(this,()=>{t(this,i).appendChild(t(this,p)),document.body.appendChild(t(this,a)),document.body.appendChild(t(this,i)),t(this,p).style.display="none",t(this,i).style.display="none",t(this,a).style.display="none",t(this,i).classList.add("modal"),t(this,i).classList.add("modal-close"),t(this,a).classList.add("modal-backdrop"),t(this,a).classList.add("modal-backdrop-close"),t(this,a).addEventListener("click",t(this,$)),t(this,p).classList.add("modal-content"),setTimeout(()=>{t(this,i).style.removeProperty("display"),t(this,a).style.removeProperty("display"),t(this,p).style.removeProperty("display")},300)}),G.set(this,()=>{t(this,a).addEventListener("transitionstart",t(this,w)),t(this,i).addEventListener("transitioncancel",t(this,E)),t(this,i).addEventListener("transitionend",t(this,E)),t(this,a).classList.remove("modal-backdrop-close"),t(this,a).classList.add("modal-backdrop-open"),t(this,i).classList.remove("modal-close"),t(this,i).classList.add("modal-open")}),H.set(this,()=>{t(this,i).addEventListener("transitionstart",t(this,f)),t(this,a).addEventListener("transitioncancel",t(this,k)),t(this,a).addEventListener("transitionend",t(this,k)),t(this,a).classList.remove("modal-backdrop-open"),t(this,a).classList.add("modal-backdrop-close"),t(this,i).classList.remove("modal-open"),t(this,i).classList.add("modal-close")}),O.set(this,()=>{t(this,a).removeEventListener("transitionstart",t(this,w)),t(this,i).removeEventListener("transitioncancel",t(this,E)),t(this,i).removeEventListener("transitionend",t(this,E)),t(this,i).removeEventListener("transitionstart",t(this,f)),t(this,a).removeEventListener("transitioncancel",t(this,k)),t(this,a).removeEventListener("transitionend",t(this,k))}),w.set(this,()=>{t(this,a).removeEventListener("transitionstart",t(this,w)),this.onStartOpen&&this.onStartOpen()}),E.set(this,()=>{t(this,O).call(this),this.onEndOpen&&this.onEndOpen()}),f.set(this,()=>{t(this,i).removeEventListener("transitionstart",t(this,f)),this.onStartClose&&this.onStartClose()}),k.set(this,()=>{t(this,O).call(this),this.onEndClose&&this.onEndClose()}),$.set(this,()=>{this.onClose&&this.onClose()}),this.destroy=()=>{t(this,i).removeChild(t(this,p));const n=t(this,i).parentElement;n.removeChild(t(this,a)),n.removeChild(t(this,i)),t(this,a).removeEventListener("click",t(this,$))},y(this,p,s),y(this,i,document.createElement("div")),y(this,a,document.createElement("div")),t(this,a).dataset.testid="backdrop",t(this,z).call(this)}get isOpen(){return t(this,W)}set isOpen(s){if(y(this,W,s),s){t(this,G).call(this);return}t(this,H).call(this)}}W=new WeakMap,i=new WeakMap,p=new WeakMap,a=new WeakMap,z=new WeakMap,G=new WeakMap,H=new WeakMap,O=new WeakMap,w=new WeakMap,E=new WeakMap,f=new WeakMap,k=new WeakMap,$=new WeakMap;export{R as Modal,Q as Sidebar};
//# sourceMappingURL=bolt.mjs.map
