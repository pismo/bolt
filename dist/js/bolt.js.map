{"version":3,"file":"bolt.js","sources":["../../src/sidebar/Sidebar.ts"],"sourcesContent":["export interface SidebarButton {\n  label: string;\n  level: 1 | 2;\n  icon?: string;\n  name?: string;\n}\n\nexport interface IHeader {\n  icon: string;\n  label: string;\n}\n\nexport interface SidebarProps {\n  container: HTMLElement;\n  header: IHeader;\n  content: SidebarButton[];\n  footerLabel: string;\n  onSelected?: (selected: HTMLElement) => void;\n}\n\nexport interface ISidebar {\n  destroy: () => void;\n}\n\nclass Sidebar implements ISidebar {\n  #_container: HTMLElement;\n\n  #_header: HTMLElement;\n\n  #_content: HTMLElement;\n\n  #_footer: HTMLElement;\n\n  #_contentList: { [key: string]: HTMLElement } = {};\n\n  #_onSelected?: (selected: HTMLElement) => void;\n\n  constructor({\n    container,\n    header,\n    content,\n    footerLabel,\n    onSelected,\n  }: SidebarProps) {\n    this.#_onSelected = onSelected;\n\n    this.#_container = container;\n    this.#_container.dataset.testid = \"sidebar\";\n    this.#_header = document.createElement(\"div\");\n    this.#_header.dataset.testid = \"header\";\n    this.#_content = document.createElement(\"div\");\n    this.#_content.dataset.testid = \"content\";\n    this.#_footer = document.createElement(\"div\");\n    this.#_footer.dataset.testid = \"footer\";\n\n    this.#_initialize(container, header, content, footerLabel);\n  }\n\n  #_initialize = (\n    container: HTMLElement,\n    header: IHeader,\n    content: SidebarButton[],\n    footerLabel: string\n  ): void => {\n    this.#_container.classList.add(\"sidebar\");\n\n    this.#_header.classList.add(\"sidebar-btn\", \"sidebar-btn-l0\");\n\n    this.#_content.classList.add(\"sidebar-content\");\n\n    this.#_footer.classList.add(\"sidebar-btn-footnote\");\n\n    this.#_container.appendChild(this.#_header);\n    this.#_container.appendChild(this.#_content);\n    this.#_container.appendChild(this.#_footer);\n\n    const hIcon = document.createElement(\"span\");\n    const hLabel = document.createElement(\"p\");\n    hIcon.classList.add(`i-${header.icon}`, \"sidebar-btn-icon\");\n    hLabel.classList.add(\"sidebar-btn-label\");\n    hLabel.innerText = header.label;\n\n    this.#_header.appendChild(hIcon);\n    this.#_header.appendChild(hLabel);\n\n    content.forEach((el, i) => {\n      const id = `${i}-${el.level}-${el.label}`;\n      const child: HTMLElement & { name: string } = document.createElement(\n        \"button\"\n      );\n      child.id = id;\n      child.name = el.name || \"\";\n      child.classList.add(\"sidebar-btn\", `sidebar-btn-l${el.level}`);\n      this.#_contentList[id] = child;\n      let icon: HTMLElement;\n      if (el.icon) {\n        icon = document.createElement(\"span\");\n        icon.classList.add(`i-${el.icon}`, \"sidebar-btn-icon\");\n        child.appendChild(icon);\n      }\n\n      const label = document.createElement(\"p\");\n      label.classList.add(\"sidebar-btn-label\");\n      label.innerText = el.label;\n\n      child.appendChild(label);\n      child.addEventListener(\"click\", this.#_clickHandler);\n\n      this.#_content.appendChild(child);\n    });\n\n    const fLabel = document.createElement(\"p\");\n    fLabel.classList.add(\"sidebar-btn-label\");\n    fLabel.innerText = footerLabel;\n\n    this.#_footer.appendChild(fLabel);\n  };\n\n  #_clickHandler = (e: MouseEvent): void => {\n    const target: HTMLElement = e.currentTarget as HTMLElement;\n\n    Object.values(this.#_contentList).map((el: HTMLElement) =>\n      el.classList.remove(\"selected\")\n    );\n    target.classList.add(\"selected\");\n\n    if (this.#_onSelected) this.#_onSelected(target);\n  };\n\n  destroy = (): void => {\n    this.#_container.removeChild(this.#_header);\n    this.#_container.removeChild(this.#_content);\n    this.#_container.removeChild(this.#_footer);\n\n    Object.values(this.#_contentList).map((el) =>\n      el.removeEventListener(\"click\", this.#_clickHandler)\n    );\n\n    this.#_contentList = {};\n  };\n}\n\nexport { Sidebar };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAwBA,cAAkC;AAAA,EAahC,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,KACe;AAlBjB;AAEA;AAEA;AAEA;AAEA,4BAAgD;AAEhD;AAuBA,2BAAe,CACb,WACA,QACA,SACA,gBACS;AACT,yBAAK,aAAY,UAAU,IAAI;AAE/B,yBAAK,UAAS,UAAU,IAAI,eAAe;AAE3C,yBAAK,WAAU,UAAU,IAAI;AAE7B,yBAAK,UAAS,UAAU,IAAI;AAE5B,yBAAK,aAAY,YAAY,mBAAK;AAClC,yBAAK,aAAY,YAAY,mBAAK;AAClC,yBAAK,aAAY,YAAY,mBAAK;AAElC,YAAM,QAAQ,SAAS,cAAc;AACrC,YAAM,SAAS,SAAS,cAAc;AACtC,YAAM,UAAU,IAAI,KAAK,OAAO,QAAQ;AACxC,aAAO,UAAU,IAAI;AACrB,aAAO,YAAY,OAAO;AAE1B,yBAAK,UAAS,YAAY;AAC1B,yBAAK,UAAS,YAAY;AAE1B,cAAQ,QAAQ,CAAC,IAAI,MAAM;AACzB,cAAM,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG;AAClC,cAAM,QAAwC,SAAS,cACrD;AAEF,cAAM,KAAK;AACX,cAAM,OAAO,GAAG,QAAQ;AACxB,cAAM,UAAU,IAAI,eAAe,gBAAgB,GAAG;AACtD,2BAAK,eAAc,MAAM;AACzB,YAAI;AACJ,YAAI,GAAG,MAAM;AACX,iBAAO,SAAS,cAAc;AAC9B,eAAK,UAAU,IAAI,KAAK,GAAG,QAAQ;AACnC,gBAAM,YAAY;AAAA;AAGpB,cAAM,QAAQ,SAAS,cAAc;AACrC,cAAM,UAAU,IAAI;AACpB,cAAM,YAAY,GAAG;AAErB,cAAM,YAAY;AAClB,cAAM,iBAAiB,SAAS,mBAAK;AAErC,2BAAK,WAAU,YAAY;AAAA;AAG7B,YAAM,SAAS,SAAS,cAAc;AACtC,aAAO,UAAU,IAAI;AACrB,aAAO,YAAY;AAEnB,yBAAK,UAAS,YAAY;AAAA;AAG5B,6BAAiB,CAAC,MAAwB;AACxC,YAAM,SAAsB,EAAE;AAE9B,aAAO,OAAO,mBAAK,gBAAe,IAAI,CAAC,OACrC,GAAG,UAAU,OAAO;AAEtB,aAAO,UAAU,IAAI;AAErB,UAAI,mBAAK;AAAc,2BAAK,cAAL,WAAkB;AAAA;AAG3C,mBAAU,MAAY;AACpB,yBAAK,aAAY,YAAY,mBAAK;AAClC,yBAAK,aAAY,YAAY,mBAAK;AAClC,yBAAK,aAAY,YAAY,mBAAK;AAElC,aAAO,OAAO,mBAAK,gBAAe,IAAI,CAAC,OACrC,GAAG,oBAAoB,SAAS,mBAAK;AAGvC,yBAAK,eAAgB;AAAA;AA9FrB,uBAAK,cAAe;AAEpB,uBAAK,aAAc;AACnB,uBAAK,aAAY,QAAQ,SAAS;AAClC,uBAAK,UAAW,SAAS,cAAc;AACvC,uBAAK,UAAS,QAAQ,SAAS;AAC/B,uBAAK,WAAY,SAAS,cAAc;AACxC,uBAAK,WAAU,QAAQ,SAAS;AAChC,uBAAK,UAAW,SAAS,cAAc;AACvC,uBAAK,UAAS,QAAQ,SAAS;AAE/B,uBAAK,cAAL,WAAkB,WAAW,QAAQ,SAAS;AAAA;AAAA;AA9BhD;AAEA;AAEA;AAEA;AAEA;AAEA;AAuBA;AA4DA;;;;"}