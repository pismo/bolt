---
name: Sidebar
---

import { useState, useRef, useEffect } from 'react';
import { Playground, Props } from 'docz';
import '../../dist/css/bolt-css.css';
import { Sidebar } from '../../dist/js/bolt';

# Sidebar JS

O componente Sidebar monta uma barra lateral com itens de menu formatados segundo o design system da Pismo.

<br />

## propriedades

```typescript
// propriedades aplicadas ao Header da sidebar
export interface IHeader {
  label: string; // texto do botão
}

// propriedades aplicadas aos botões
export interface SidebarButton extends MenuButtonProps {
  id: number | string; // esse id é devolvido no evento onSelected
  selected?: boolean; // indica que o elemento estará selecionado no inicio
}

// propriedades requeridas no construtor
export interface SidebarProps {
  container: HTMLElement; // elemento HTML onde será construído a sidebar
  header: IHeader; // header da sidebar
  content: SidebarButton[]; // Array de botões que irá compor o conteudo da sidebar
  footerLabel: string; // texto do footer da sidebar
}

// construtor, deve receber SidebarProps
export interface ISidebarConstructor {
  new (props: SidebarProps): ISidebar;
}

export interface ISidebar {
  collapsed: boolean; // retorna o estado da sidebar, default - false, se passar o valor true a sidebar se contrai
  destroy: () => void; // método público, remove todos os elementos da página

  onSelected?: (id: number | string) => void; // evento disparado quando um botão é selecionado, envia o id do elemento como argumento
}
```

<br />
<br />

## Exemplo

<br />

<Playground>
  {() => {
    const [sidebar, setSidebar] = useState(null);
    const [currentPage, setCurrentPage] = useState('/statement');
    const sidebarRef = useRef();
    useEffect(() => {
      if (sidebarRef.current && !sidebar) {
        setSidebar(
          new Sidebar({
            container: sidebarRef.current,
            header: { icon: 'bars', label: 'CustomerApp' },
            content: [
              { icon: 'money', level: 'first', label: 'Statement', selected: true, id: '/statement' },
              { icon: 'accounts', level: 'first', label: 'Profile', id: '/profile' },
              { icon: 'cards', level: 'first', label: 'Cards', id: '/cards' },
              { icon: 'calendar', level: 'first', label: 'Activity', id: '/activity' },
              { icon: 'edit', level: 'first', label: 'Notes', id: '/notes' },
            ],
            footerLabel: 'v1.6.0',
          })
        );
      }
      if (sidebar) {
        sidebar.onSelected = handleSelected;
      }
      return () => {
        if (sidebar) sidebar.destroy();
      };
    }, [sidebarRef.current, sidebar]);
    const handleSelected = (id) => {
      setCurrentPage(id);
    };
    return (
      <div className="tw-flex tw-h-screen">
        <div ref={sidebarRef} data-open={false}></div>
        <div className="tw-flex tw-flex-col tw-p-6">
          <p className="tw-body3">Página selecionada:</p>
          <h3 className="tw-h4 tw-mt-6">{currentPage}</h3>
        </div>
      </div>
    );
  }}
</Playground>
